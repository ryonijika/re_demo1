<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>表の作成</title>
</head>
<style>
/* テーブル全体のスタイル */
table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
  font-size: 18px;
  text-align: left;
}

/* テーブルのヘッダー */
th, td {
  padding: 12px;
  border: 1px solid #dddddd;
}

/* ヘッダーの背景色とフォントスタイル */
th {
  background-color: #f2f2f2;
  font-weight: bold;
}

/* 奇数行と偶数行の背景色 */
tr:nth-child(even) {
  background-color: #f9f9f9;
}

tr:nth-child(odd) {
  background-color: #ffffff;
}

/* ホバー時の背景色 */
tr:hover {
  background-color: #f1f1f1;
}

/* テーブルのボーダー */
table, th, td {
  border: 1px solid #ddd;
}

/* テキストの色 */
th, td {
  color: #333;
}

/* セレクトボックスのスタイル */
select {
  padding: 8px;
  font-size: 16px;
  border: 1px solid #ddd;
  border-radius: 4px;
  background-color: #fff;
  color: #333;
  width: 100%;
  box-sizing: border-box;
}

/* セレクトボックスのホバーおよびフォーカス時のスタイル */
select:hover, select:focus {
  border-color: #aaa;
  outline: none;
}
</style>
<body>
<div id="active"></div>
<button id="complete">OK</button>
<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
<script>

	const table = {
		"a": {
			"name": "なまえ",
			"price": 120,
			"size": 5
		},
		"b": {
			"name": "名前",
			"price": 130,
			"size": 5
		}
	}

	function construct(reference) {
	    // テーブルのヘッダー
	    let table = `<table>
	        <thead>
	            <tr>
	                <th>選択</th>
	                <th>品物</th>
	                <th>一個当たりの価値</th>
	                <th>一個当たりのサイズ</th>
	            </tr>
	        </thead>
	        <tbody>`;

		for (let item in reference) {
			table += `<tr>
	            <td>
				<select id="${item}">
				    <option value="0">0</option>
				    <option value="1">1</option>
				    <option value="2">2</option>
				    <option value="3">3</option>
				    <option value="4">4</option>
				</select>	
				</td>
	            <td>${reference[item].name}</td>
	            <td>${reference[item].price}</td>
	            <td>${reference[item].size}</td>
	        </tr>`;
	    }
	    // テーブルの終了タグ
	    table += `
	        </tbody>
	    </table>`;

	    $("#active").html(table)
	}

	function total(table) {
		let price_all = 0
		let size_all = 0
		for (let item in table) {
			price_all += $(`#${item}`).val() * table[item].price
			size_all += $(`#${item}`).val() * table[item].size
		}
		return {"price_all": price_all, "size_all": size_all}
	}

	$("#complete").click(function() {
		total(table).price_all
	})

	construct(table)
</script>
</body>
</html>
